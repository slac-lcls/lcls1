#-----------------------------------------
# ChangeLog file for package CalibManager
#-----------------------------------------

Package author: Mikhail Dubrovin

Please describe any modifications that you made to the package in the reverse time order.

#-----------------------------

Tag: V02-00-27
2024-11-21 Mikhail Dubrovin
- src/OpticAlignmentUtils.py - np.float > np.float64

Tag: V02-00-26
2024-06-24 Mikhail Dubrovin
- src/ConfigParametersForApp.py - add Alvium to calibrun

Tag: V02-00-25
2023-03-12 Mikhail Dubrovin
- in add_stat_text add/use parameter fmt

Tag: V02-00-24
2023-12-15 Mikhail Dubrovin
- src/GlobalUtils.py - add/use import_pyqt5() to hide from PyQt5 import

Tag: V02-00-23
2023-10-25 Mikhail Dubrovin
- app/calibrun - for debugging add: if kwa.workdir != 'work': save_record_at_start(...)

Tag: V02-00-22
2023-10-20 Mikhail Dubrovin
  BatchLogScanParser.py - remove unused self.det_name + cosmetic
  CommandLineCalib.py - get rid of cp.plsp methods by implementing them in this module + cosmetic
  ConfigParametersForApp.py - cosmetic
  FileDeployer.py - in many methods add parameter mets_from=cp.blsp to switch using method from blsp or CommandLineCalib
  FileNameManager.py - isolate log_file_cpo outside class and use local import from CalibManager.Logger
  Logger.py - cosmetic

2023-10-18 Mikhail Dubrovin
  app/calibrun - add --nrecs1
  src/ConfigParametersForApp.py - rename cp.xtc_dir_non_std > cp.dsnamex
  src/FileNameManager.py - rename cp.xtc_dir_non_std > cp.dsnamex
  src/CommandLineCalib.py - rename cp.xtc_dir_non_std > cp.dsnamex; use cp.nrecs1; scan_event_keys in stead of command_for_peds_scan

Tag: V02-00-21
2023-08-22 Mikhail Dubrovin
- modified: src/CommandLineCalib.py -S 0377 > 255

Tag: V02-00-20
2023-05-19 Mikhail Dubrovin
- modified:
  app/calibfile,
  app/calibrun - rm.RepoManager(dirrepo=dirrepo...
  app/plims- bring script to generic scheme
  src/GUIFileManagerSingleControl.py - code cleaning
  src/GlobalUtils.py - use standard logging
  src/PlotImgSpe.py - fix self test, code cleaning
  src/PlotImgSpeButtons.py - code cleaning
  src/PlotImgSpeWidget.py - code cleaning

Tag: V02-00-19
2023-03-17 Mikhail Dubrovin
- rename pixel_status_extra > status_extra
  - src/ConfigParametersForApp.py
  - src/GUICalibDirTree.py

Tag: V02-00-18
2023-03-14 Mikhail Dubrovin
   src/ConfigParametersForApp.py
   src/GUICalibDirTree.py - add pixel_status_extra and cosmetic improvements

Tag: V02-00-17
2023-02-27 Mikhail Dubrovin
- add starting points for old scripts to app/
	optical_metrology_cspad2x2
	optical_metrology_cspad_v1_cxi
	optical_metrology_cspad_v2_xpp
- code cleaning (remove comments and spaces)
- improve option_parser
  optical_metrology_check
  ../src/GlobalUtils.py - fix docstring type
  ../src/OpticAlignmentCspad2x2V1.py
  ../src/OpticAlignmentCspadMethods.py
  ../src/OpticAlignmentCspadV1.py
  ../src/OpticAlignmentCspadV2.py

Tag: V02-00-16
2022-11-10 Mikhail Dubrovin
  src/FileDeployer.py - add os.chmod, remove comments
  src/FileNameManager.py - change str_exp_run_dark

Tag: V02-00-15
2022-11-09 Mikhail Dubrovin
  app/calibrun
	- add parameter -x, --dsnamex
	- remove -p, --print_bits; -L, --loadcfg; -q, --queue
	- rename --thr_rms -> thr_rms_max
	- update parameters for default and help
  src/CommandLineCalib.py - code cleaning for input parameters
  src/ConfigParametersForApp.py - add parameter DSNAME
  src/FileNameManager.py - code cleanup, cosmetic change names for path_peds_scan/aver_log

2022-11-03 Mikhail Dubrovin
- COMMON ISSUES:
	- add/use parameter group='ps-users' for dir/file ownership
	- change dirmode=2775, filemode=664
	- add adddict={'logfile':logname} to repoman.save_record_at_start
  app/calibfile
  app/calibrun
  src/CommandLineCalib.py
  src/FileDeployer.py
  src/GlobalUtils.py
  src/NotificationLog.py
  src/OpticAlignmentUtils.py

2022-10-14 Mikhail Dubrovin
Tag: V02-00-14
  app/calibfile - use standard logging
  app/calibrun - set d_dirmode=0o2774, d_filemode=0o664

2022-10-07 Mikhail Dubrovin
Tag: V02-00-13
  app/calibfile - code cleaning
  app/calibrun - multiple update - use DIR_REPO from Detector.dir_root, init logger
  src/BatchLogScanParser.py - use standard logging
  src/CommandLineCalib.py - code refactoring - get rid of batch mode dependence
  src/ConfigParametersForApp.py - add parameter logname
  src/FileDeployer.py - code cleaning, use standard logging, add dir/filemode parameters
  src/FileNameManager.py - add methods for new logging
  src/GlobalUtils.py - code cleaning, update method create_directory

2022-09-29 Mikhail Dubrovin
common modifications: code cleaning - remove spaces
  app/calibrun - code cleaning
  src/CommandLineCalib.py - switch to standard logging, remove batch processing
  src/ConfigParameters.py - code cleaning
  src/ConfigParametersForApp.py - code cleaning, import/use parameters from CalibManager.dir_root
  src/FileNameManager.py - code cleaning
  src/Logger.py - code cleaning
  src/dir_root.py - new import stuff from Detector.dir_root and append it

2022-09-20 Mikhail Dubrovin
Tag: V02-00-12
- fix plims fot QtAgg backend and get rid of libGL error

2022-09-19 Mikhail Dubrovin
Tag: V02-00-11
- app/optical_metrology_epix10ka2m - fix issue for py3 as default
	- import Detector.UtilsLogging

2022-01-03 Mikhail Dubrovin
Tag: V02-00-10
	modified:   src/GUIDirTree.py
	modified:   src/GUIFileBrowser.py
  - use import with CalibManager.* path in stead of local

Tag: V02-00-09 - ???

2020-07-01 Mikhail Dubrovin
Tag: V02-00-08
- ConfigParametersForApp - add support for iStar detector

2020-06-03 Mikhail Dubrovin
Tag: V02-00-07
- GlobalUtils: in save_textfile - use chmod once at new file creation only, set default accmode=0o664 in stead of 774

2020-05-18 Mikhail Dubrovin
Tag: V02-00-06
- src/GlobalUtils.py subproc_in_log - improve protection
  - hangs on proc.wait() for long error message
    - re-direct errors from stderr=subprocess.PIPE to log
    - replace unlimited p.wait() with p.poll() in constrained loop

2020-05-07 Mikhail Dubrovin
Tag: V02-00-05
- add parameter --deploygeo
	modified:   app/calibrun
	modified:   src/CommandLineCalib.py
	modified:   src/FileDeployer.py

2020-05-06 Mikhail Dubrovin
Tag: V02-00-04
- BatchJobPedestals.py - convert byte to str for py3

2020-05-06 Mikhail Dubrovin
Tag: V02-00-03
- for app calibrun add code to generatete zero-pedestals and geometry for rayonix, clean-up code
 - new file:   ../data/scripts/geometry-rayonix.template
 - modified:
   ../app/calibrun - simplify app, add parameter --zeropeds
   AppDataPath.py - add path to data to run apps from release directory
   GlobalUtils.py - add accmode to save_textfile(text, path, mode='w', accmode=0o774), clean-up code
   BatchLogScanParser.py - clean-up code
   CommandLineCalib.py - add methods to generatete zero-pedestals and geometry for rayonix, clean-up code
   FileDeployer.py - add methods to generatete zero-pedestals and geometry for rayonix
   FileNameManager.py - add methods path_peds_zero and path_geometry

2020-04-28 Mikhail Dubrovin
Tag: V02-00-02
- fix FileManagerSingle - issue reported by Chuck
 - modified:
   app/calibman - get rid of libGL error
   src/ConfigParametersForApp.py - re-define self.styleEditInfo
   src/GUIFileManagerSingle.py - cosmetic - remove comments
   src/GUIFileManagerSingleControl.py - add debugging messages
   src/GlobalUtils.py - fix path returned from QFileDialog.getOpenFileName

2020-02-04 Mikhail Dubrovin
Tag: V02-00-01
multiple fixes for qt4->qt5
- Fix multiple issues due to pretty bad automatic conversion from pyqt4 to pyqt5
- GUIPopupSelectExp.pyself.accept() add self.done(QtWidgets.QDialog.Accepted)
	othervise exec_ doe not return correct response
- multiple modules:
  -        self.setContentsMargins(QtCore.QMargins(-9,-9,-9,-9))
  +        self.layout().setContentsMargins(0,0,0,0)
- GUIDarkList.py
  -            item.setTextColor(QtGui.QColor(0, 0, 0, alpha=0))
  +            item.setForeground(QtGui.QBrush(QtGui.QColor(0,0,0,alpha=0), QtCore.Qt.SolidPattern))
  -            self.list.setItemHidden (item, True/False)
  +            item.setHidden(True/False)
- in app/calibman
  + #QtWidgets.QApplication.setAttribute(QtCore.Qt.AA_EnableHighDpiScaling) - does not work???
  Qt4Agg -> Qt5Agg
- in ConfigParametersForApp.py change default queue from psnehhiprioq to psanaq

	modified:   app/calibman
	modified:   doc/ChangeLog
	modified:   src/ConfigParametersForApp.py
	modified:   src/Frame.py
	modified:   src/GUIAnyFilesStatusTable.py
	modified:   src/GUICalibDirTree.py
	modified:   src/GUIDark.py
	modified:   src/GUIDarkControlBar.py
	modified:   src/GUIDarkList.py
	modified:   src/GUIDarkListItem.py
	modified:   src/GUIDarkListItemAdd.py
	modified:   src/GUIDarkListItemRun.py
	modified:   src/GUIDarkMoreOpts.py
	modified:   src/GUIDirTree.py
	modified:   src/GUIExpCalibDir.py
	modified:   src/GUIFileBrowser.py
	modified:   src/GUIFileManagerGroup.py
	modified:   src/GUIFileManagerGroupControl.py
	modified:   src/GUIFileManagerSingle.py
	modified:   src/GUIFileManagerSingleControl.py
	modified:   src/GUIInsExpDirDet.py
	modified:   src/GUILogger.py
	modified:   src/GUIMain.py
	modified:   src/GUIMainTabs.py
	modified:   src/GUIPopupSelectExp.py
	modified:   src/GUIRange.py
	modified:   src/GUIStatus.py
	modified:   src/GUIStatusTable.py
	modified:   src/H5WTree.py
	modified:   src/PlotImgSpe.py
	modified:   src/PlotImgSpeButtons.py
	modified:   src/PlotImgSpeWidget.py

2020-12-11 Tag: V02-00-00 py2->py3?
2020-10-15 Tag: V01-01-00 py2->py3?

2020-10-19 Mikhail Dubrovin
Tag: V01-00-27
- correct measured point x,y,z coordinates to get rid of detector tilt in opt met.
	modified:   app/optical_metrology_epix10ka2m  - add option -C to switch off tilt correction
 	modified:   src/OpticAlignmentUtils.py

2020-10-15 Mikhail S. Dubrovin
Tag: V01-00-26
- FileDeployer - turned off automatic saving of constants to DCS/HDF5
- FileNameManager - use os.path.join for xtc path
- other cosmetics
	modified:   src/FileDeployer.py
	modified:   FileNameManager.py
	modified:   ../app/calibrun
	modified:   BatchJobPedestals.py
	modified:   CommandLineCalib.py

2020-08-28 Mikhail S. Dubrovin
Tag: V01-00-25 - update app/optical_metrology_epix10ka2m
	modified:   app/optical_metrology_epix10ka2m
	modified:   src/OpticAlignmentUtils.py

2020-08-15 Mikhail S. Dubrovin
Tag: V01-00-24
- update optical_metrology_epix10ka2m
	modified:   app/optical_metrology_check
	modified:   app/optical_metrology_epix10ka2m
	modified:   src/OpticAlignmentUtils.py

2020-07-22 Mikhail S. Dubrovin
Tag: V01-00-23
- fix code for changed xtc file name pattern from eNNN-r0146-s00-c00.xtc to detdaq18-r0146-s00-c00.xtc
	modified:   FileNameManager.py
	modified:   GlobalUtils.py

2020-03-12 Mikhail S. Dubrovin
Tag: V01-00-22
- app/optical_metrology_epix10ka2m - add --rot for detector orientation in optical measurements

2019-01-24 Mikhail S. Dubrovin
Tag: V01-00-21
- add optical metrology processing script for epix10ka2m
	modified:   app/optical_metrology_check
	new file:   app/optical_metrology_epix10ka2m
	new file:   src/OpticAlignmentUtils.py

2018-10-30 Mikhail S. Dubrovin
Tag: V01-00-20
- add Streak, Archon, and Epix10ka2M (for file managment)
	modified:   src/ConfigParametersForApp.py

2018-09-25 Mikhail S. Dubrovin
Tag: V01-00-19
- add uxi and pixis
	modified:   src/ConfigFileGenerator.py
	modified:   src/ConfigParametersForApp.py

2018-07-05 Mikhail S. Dubrovin
Tag: V01-00-18
- ConfigParametersForApp - add pixel_offset to the list of known calib types for epix10ka

2018-02-28 Mikhail S. Dubrovin
Tag: V01-00-17
- ConfigParametersForApp - add pixel_offset to the list of known calib types for jungfrau

2018-02-27 Mikhail S. Dubrovin
- src/RegDBUtils.py - add methods to find detector type in experiment(s)

2018-01-30 Mikhail S. Dubrovin
Tag: V01-00-16
- GUIMaskEditor - fix dtype issue for new version of numpy

Tag: V01-00-15 ???

2017-12-07 Mikhail S. Dubrovin
Tag: V01-00-14
- add app/calibfile and support for Epix10ka in ConfigParametersForApp.py

2017-09-19 Mikhail S. Dubrovin
Tag: V01-00-15
- add hex_* calibration types to Acqiris

Tag: V01-00-14 ???

2017-09-19 Mikhail S. Dubrovin
Tag: V01-00-13
- ConfigParametersForApp add 'DET' to the list_of_instr
- CommandLineCalib add saving log in /reg/g/psdm/logs/calibman/<year>/<month>/<log-file-name>.txt
- GlobalUtils.create_directory() logger.info -> logger.debug

2017-09-01 Mikhail S. Dubrovin
Tag: V01-00-12
- GUIMain - save log on start with initial job info.

2017-07-31 Mikhail S. Dubrovin
Tag: V01-00-11
- ConfigParameters.declareListOfPars - use format '%s:%03d' for parameters in the list.

2017-07-05 Mikhail S. Dubrovin
Tag: V01-00-10
- app/optical_metrology_check - add x-y and z tolerance and warnings when tolerance is exceeded

2017-06-13 Mikhail S. Dubrovin
Tag: V01-00-09
- ConfigParametersForApp - add support for Zyla

2017-06-09 Mikhail S. Dubrovin
Tag: V01-00-08
- compare_geometry_files - add coordinate difference histograms

2017-06-08 Mikhail S. Dubrovin
Tag: V01-00-07
- add app/compare_geometry_files

2017-06-07 Mikhail S. Dubrovin
Tag: V01-00-06
- GUIPopupSelectExp - add support for 9-chars experiment names

2017-05-25 Mikhail S. Dubrovin
Tag: V01-00-05
- ConfigParameters add method is_default

2017-05-18 Mikhail S. Dubrovin
Tag: V01-00-04
- ConfigParameters.py - fix parameter setting for None

2017-02-20 Mikhail S. Dubrovin
Tag: V01-00-03
- app/optical_metrology_check - ready to go - get rid of dependencies of other psana modules

Tag: V01-00-02
- add app/optical_metrology_check
- cosmetic update for OpticAlignmentCspad2x2V1.py

2017-02-17 Mikhail S. Dubrovin
Tag: V01-00-01
- switch to git
- update H5WTree
- fix float->int indexing in PlotImgSpeWidget.py
- fix PackageVersions.py crash for svn calls

2017-02-17 Mikhail S. Dubrovin
Tag: V00-02-31
- in ConfigParameters - sort the list of config parameters at output in file
- in GUIPopupRadioList.py and GUIPopupCheckList.py - use icons from CalibManager.QIcons

2017-02-05 Mikhail S. Dubrovin
Tag: V00-02-30
- Logger - fix passing the name of the module (not None) along with messages

2017-01-29 Mikhail S. Dubrovin
Tag: V00-02-29
- Add modules for H5* GUI project, NotificationLog, QIcons, Styles, update icons

2017-01-20 Mikhail S. Dubrovin
Tag: V00-02-28
- PlotImgSpeWidget.proc_stat - add protection

Tag: V00-02-27
- ConfigParametersForApp - add support for Jungfrau
- calibman - close threads at exit

2016-12-08 Mikhail S. Dubrovin
Tag: V00-02-26
- GUIPopupSelectExp.py - make frameless pop-up window

2016-12-07 Mikhail S. Dubrovin
Tag: V00-02-25
- save ChangeLog file, forgotten in previous revision

2016-12-07 Mikhail S. Dubrovin
Tag: V00-02-24
- GUIPopup* - get rid of dependency on Logger, ConfigParametersForApp for re-usable modules.

2016-11-26 Mikhail S. Dubrovin
Tag: V00-02-23
- In GUIMain and CommandLineCalib - remove add_record_in_db - hangs on _mysql.query due to locked table

2016-10-19 Mikhail S. Dubrovin
Tag: V00-02-22
- GUIPopupSelectExp.py - ignore selection of the year in stead of experiment name.

2016-10-18 Mikhail S. Dubrovin
Tag: V00-02-21
- FileDeployer.deploy_calib_files - return status
- GUIDarkListItemRun - onButDeploy - change "Deploy" button status depending on procedure status (PSAS-6).

2016-10-17 Mikhail S. Dubrovin
Tag: V00-02-20
- FileDeployer - add *dcs methods to deploy files in DCS through CLI.
- GUIDarkMoreOpts - on View button throw modal GUI to pick up necessary file.

2016-10-13 Mikhail S. Dubrovin
Tag: V00-02-19
- BatchJobPedestals - do not stop processing in case of warning messages from scan (PSAS-139).

2016-09-30 Mikhail S. Dubrovin
- GlobalUtils - create directories and file with default mode 777.
- Logger - save log file with default mode 666.

2016-08-31 Mikhail S. Dubrovin
Tag: V00-02-18
- GlobalUtils - remove dependence on LogBook

2016-08-30 Mikhail S. Dubrovin
Tag: V00-02-17
- Restore event code selection for dark runs in python interface (PSAS-139)
M       app/calibrun
M       src/BatchJobPedestals.py
M       src/ConfigParametersForApp.py
M       src/GUIConfigPars.py

Tag: V00-02-16
- OpticAlignmentCspadV2.py - skip text line with keyword Point

2016-07-28 Mikhail S. Dubrovin
Tag: V00-02-15
- Fix problems raised in PSAS-255:
  - BatchJobPedestals.py - add protection if the list of requested detectors is empty
  - BatchLogScanParser.py - fix synchronization of type-source lists
  - GlobalUtils.py - add mode parameter in create_path(..., mode=0775)

2016-07-19 Mikhail S. Dubrovin
Tag: V00-02-14
- save log file under /reg/g/psdm/logs/calibman/YYYY/MM/ (PSAS-6)
M       src/ConfigParametersForApp.py
M       src/FileNameManager.py
M       src/GUIMain.py
M       src/GlobalUtils.py

2016-07-11 Mikhail S. Dubrovin
Tag: V00-02-13
- fix dictionary keyword thr_rms -> thr_rms_max, add options -U,u,Z,z (PSAS-6)
M       app/calibrun
M       src/CommandLineCalib.py

2016-07-01 Mikhail S. Dubrovin
Tag: V00-02-12
- Add auto-evaluation of the intensity range for pixel_status (PSAS-6).
M       src/BatchJobPedestals.py
M       src/CommandLineCalib.py
M       src/ConfigParametersForApp.py
M       src/GUIConfig.py
M       src/GUIConfigPars.py

2016-06-30 Mikhail S. Dubrovin
Tag: V00-02-11
- add support for RAYONIX
- do not print warning message if cmod file is not available for detectors other than PNCCD

2016-06-29 Mikhail S. Dubrovin
Tag: V00-02-10
- Add optional parameters -h/e/r/d/c to calibman at launch (PSAS-6)
M       app/calibman
M       doc/ChangeLog
M       src/GUIMain.py

2016-06-21 Mikhail S. Dubrovin
Tag: V00-02-09
- Add control on three additional parameters in Detector.app.det_ndarr_raw_proc (PSAS-6)
- a bunch of minor cosmetic/style changes
M       src/BatchJobPedestals.py
M       src/ConfigParametersForApp.py
M       src/GUIConfig.py
M       src/GUIConfigPars.py
M       src/GUIFileManager.py
M       src/GUIGeometry.py
M       src/GUIMain.py
- move GUITabs to GUIMainTabs
- RegDBUtils.py - in test print detectors for a list of sources
- Begin to add staff for calibrated data averaging, event brawser
A       src/GUIData.py
A       src/GUIDataAverage.py
A       src/GUIDataImage.py

2016-06-13 Mikhail S. Dubrovin
Tag: V00-02-08
- ConfigParametersForApp - fix psfehhiprioq name in the list
- ConfigParameters - code style cosmetic improvements

2016-05-17 Mikhail S. Dubrovin
Tag: V00-02-07
- Add support for common mode parameters. Currently implemented in Detector/app/det_ndarr_raw_proc for PNCCD only
M       src/BatchJobPedestals.py
M       src/CommandLineCalib.py
M       src/ConfigParametersForApp.py
M       src/FileDeployer.py
M       src/FileNameManager.py
M       src/GUIConfig.py
M       src/GUIConfigPars.py
M       src/GUIDarkMoreOpts.py
M       src/GUIFileBrowser.py

2016-04-27 Mikhail S. Dubrovin
Tag: V00-02-06
- ConfigParametersForApp.py change mask_max_thr from 32000 to 16000

2016-04-14 Mikhail S. Dubrovin
Tag: V00-02-05
- ConfigParametersForApp.py - Gabriella suggested to remove 'Epix' and 'Epix10k' from the list of detectors.

2016-04-11 Mikhail S. Dubrovin
Tag: V00-02-04
- PlotImgSpeWidget.proc_stat - fix number of values in the returned tuple.

2016-03-31 Mikhail S. Dubrovin
Tag: V00-02-03
- get rid of calls to get_enviroment(...)
- calibrun, CommandLineCalib - add parameters thr_int_min, thr_int_max
- GUIPopupSelectExp - use select_experiment_v3

Tag: V00-02-02
- NotificationDB - update server name to 'psdb-user' changed by Igor.

2016-03-17 Mikhail S. Dubrovin
Tag: V00-02-01
- FileNameManager - in path_hotpix_mask set name as peds-sta.txt

2016-03-07 Mikhail S. Dubrovin
Tag: V00-02-00
- Significant code refactoring for many files (PSAS-6)
  - use commands Detector.event_keys and det_ndarr_raw_proc in stead of psana modules with cfg. files
  - get rid of configuration file generator
  - significantly remove redundant graphics(frames etc.) non-used import etc.
  - replace experiment selection pop-up window for compact one.

2016-02-12 Mikhail S. Dubrovin
Tag: V00-01-02
- GlobalUtils.ready_to_start - add check for host and username validity.
- ConfigFileGenerator.path_to_data_files - select event reader mode between :xtc and :smd
- ConfigParametersForApp.py - add parameter smd_is_on

2016-02-11 Mikhail S. Dubrovin
Tag: V00-01-01
- ConfigFileGenerator.py - add self.add_cfg_module_peds_aver_andor3d
- ConfigParametersForApp.py - add support for andor3d

2015-10-06 Mikhail S. Dubrovin
Tag: V00-01-00
- ConfigParametersForApp.py - add MFX to the list of instruments.

2015-10-06 Christopher O'Grady
Tag: V00-00-99
- Remove restriction on using calibman for 'tut' expts (e.g. xpptut15)

2015-10-01 Mikhail S. Dubrovin
Tag: V00-00-98
- ConfigParametersForApp.py - add queues psnehhiprioq (default), psfehhiprioq (PSAS-6)

2015-08-07 Mikhail S. Dubrovin
Tag: V00-00-97
- ConfigParametersForApp.py - add type pixel_bkgd and pixel_mask in the list of types for all detectors (PSAS-6)
- GUIFileManagerSingleControl.py - make persistent path to source file.

2015-07-02 Mikhail S. Dubrovin
Tag: V00-00-96
- Improve ROI Mask GUI performance (PSAS-6)
  - GUIMaskEditor
    - button color change if med window is closed by itself
    - use cp parameters for med
    - set tooltips for all fields
    - add gu.confirm_or_cancel_dialog_box befroe file selection dialog to reset file name to empty
      for np.once()
  - ConfigParametersForApp - add 4 pars for for med - mask editor command line launched in GUIMaskEditor
  - GlobalUtils.load_textfile() - add loading text from *.npy file for GUIFileBrowser.py

2015-06-02 Mikhail S. Dubrovin
Tag: V00-00-95
- ConfigFileGenerator - add :stream=0-79: in dataset description (PSAS-6)

2015-05-20 Mikhail S. Dubrovin
Tag: V00-00-94
- ConfigParametersForApp.py - add type geometry in the list of types for pnccd.

2015-05-19 Mikhail S. Dubrovin
Tag: V00-00-93
- CommandLineCalib.py - fix bug timeout_sec -> self.timeout_sec (PSAS-6)

2015-05-18 Mikhail S. Dubrovin
Tag: V00-00-92
- add parameter cp.job_timeout_sec for calibrun and its configuration in GUIConfigPars (PSAS-6)

2015-05-13 Mikhail S. Dubrovin
Tag: V00-00-91
- PlotImgSpeWidget.py - add number of entries to histogram info.

2015-05-13 Mikhail S. Dubrovin
Tag: V00-00-90
- Save Princeton calib files WITH metadata, modified: ConfigFileGenerator.py and psana-module-peds-aver-princeton.cfg (PSAS-6)

2015-05-04 Mikhail S. Dubrovin
Tag: V00-00-89
- add parameter cp.mask_rms_thr_min and propagate it in calibman/calibrun code along with cp.mask_rms_thr (PSAS-6)

2015-04-17 Mikhail S. Dubrovin
Tag: V00-00-88
- app/calibrun - return check LUSTRE version on start-up

2015-04-17 Mikhail S. Dubrovin
Tag: V00-00-87
- add live mode for ffb, fix info messages about batch queue and farm (PSAS-6)
- app/calibrun - add comment about ffb
	       - do not check LUSTRE version on start-up
- ConfigFileGenerator - add in dataset defenition ":dir=..." for non-standard directory and ":live" for ffb.
- BatchJobPedestals - use command "psana -c <config-file.cfg>" with files defined inside. Fixes xtc/file (missing slash).
- CommandLineCalib - extend status message when batch is running.
- ConfigParametersForApp - add list of farms and dictionary for {queue:farm}
- fix info messages about batch system

2015-04-09 Mikhail S. Dubrovin
Tag: V00-00-86
- in *.py replace ==None -> is None, !=None -> is not None

2015-03-30 Mikhail S. Dubrovin
Tag: V00-00-85
- in Frame add method setBoarderVisible
- add GUIAlignment, and widget wrapper GUIROIMask  (PSAS-6, PSAS-11)
- replace "!= None" with "is not None" in many modules.
- In many modules use class Frame in stead of QFrame.
- in GUITabs, GUIConfig, GUIFileManager, GUIGeometry add self.gui_win.setVisible(True) in order to make visible widgets defined as Frame.

2015-03-12 Mikhail S. Dubrovin
Tag: V00-00-84
- add option to select dark events in any run using event code filter (PSAS-122)
    - add data/scripts/psana-module-event-code-filter.cfg
    - app/calibrun - add option -f
    - CommandLineCalib - add parameter event_code
    - ConfigParametersForApp - add parameter bat_dark_sele
    - GUIConfigPars - add editable field for cp.bat_dark_sele
    - ConfigFileGenerator - add filling of the cfg file for module ImgAlgos.EventCodeFilter

2015-03-10 Mikhail S. Dubrovin
Tag: V00-00-83
- app/calibrun, CommandLineCalib - add optional parameter -m - number of events to scan data and search for selected detector(s) (PSAS-6)

2015-03-09 Mikhail S. Dubrovin
Tag: V00-00-82
- Add dark rate calibration support for Andor camera (PSAS-6, PSAS-121)
	- modify ConfigParametersForApp, ConfigFileGenerator, RegDBUtils
	- add data/scripts/psana-module-peds-aver-andor.cfg

2015-01-22 Mikhail S. Dubrovin
Tag: V00-00-81
- ConfigParametersForApp.py - get default example files from /reg/g/psdm/detector/alignment/cspad/... (PSAS-10)

2015-01-20 Mikhail S. Dubrovin
Tag: V00-00-80
- ConfigParametersForApp.py - change list of queues - set psnehprioq as default (PSAS-6)

2015-01-16 Mikhail S. Dubrovin
Tag: V00-00-79
- GUIMaskEditor - re-implement in GUI algorithm of the command-line (roicon) mask processing PSAS-6, PSAS-10, PSAS-11

2015-01-14 Mikhail S. Dubrovin
Tag: V00-00-78
- GUIDarkList - protection against creation of the list of dark files for tutorial directories like xpptut13 (PSAS-6).
app/roicon - Use new algorithm to generate ndarray for mask: [mask_roi[r,c] for r,c in zip(iX, iY)] (PSAS-10)

2015-01-13 Mikhail S. Dubrovin
Tag: V00-00-77
- app/roicon - extend I/O to work with *.npy files (PSAS-10)

2015-01-06 Mikhail S. Dubrovin
Tag: V00-00-76
- src/GlobalUtils.py - add support for non-standard (2,185,388) shape of cspad2x2 numpy array

2014-12-11 Mikhail S. Dubrovin
Tag: V00-00-75
- add Frame.py, re-factoring GUIHelp.py (PSAS-6)

2014-11-24 Mikhail S. Dubrovin
Tag: V00-00-74
- add app/roicon - polishing command line interface, add craetion of image from file with ndarray (PSAS-10)

2014-11-21 Mikhail S. Dubrovin
Tag: V00-00-73
- add app/roicon - for conversion of the ROI mask into ndarray using geometry calib file (PSAS-10)

2014-11-11 Mikhail S. Dubrovin
Tag: V00-00-72
- ConfigParametersForApp - use Camera::CalibV1 calibration type for Fccd960 in stead of Fccd960::CalibV1 (PSAS-44)

2014-11-11 Mikhail S. Dubrovin
Tag: V00-00-71
- FileDeployer.py, ConfigFileGenerator.py, BatchLogScanParser.py - fix problem with generation of list of calib types (PSAS-6)

2014-11-10 Mikhail S. Dubrovin
Tag: V00-00-70
- data/scripts/psana-module-peds-aver-camera.cfg, ConfigFileGenerator.py - for Fccd960 use outtype='int' to account for gain bits (PSAS-44)

2014-10-05 Mikhail S. Dubrovin
Tag: V00-00-69
- ConfigParametersForApp - support for Epix100a: add 'geometry', update default list of sources (PSAS-7, PSAS-11)
- RegDBUtils - allow 'NoDetector' in source name, for example in 'NoDetector.0:Epix100a.0'

2014-10-05 Mikhail S. Dubrovin
Tag: V00-00-68
- BatchLogScanParser, ConfigParametersForApp, FileDeployer.py - use calibtypes from config pars in stead of evaluation from source (PSAS-6)

2014-10-03 Mikhail S. Dubrovin
Tag: V00-00-67
- ConfigParametersForApp, ConfigFileGenerator add support for Epix100a (see PSAS-6, PSAS-7)

2014-10-24 Mikhail S. Dubrovin
Tag: V00-00-66
- ConfigParametersForApp.py, GUIDarkListItem.py - switch back to usage of unicode chars for shrinc/expand buttons

2014-10-16 Mikhail S. Dubrovin
Tag: V00-00-65
- PlotImgSpeWidget.py - print image intensity along with coursor coordinates in coursor motion

2014-10-16 Mikhail S. Dubrovin
Tag: V00-00-64
- OpticAlignmentCspad* - add in all output geometry files the line with detector position relative to IP
- ConfigParametersForApp, ConfigFileGenerator add support for Fccd960

2014-10-03 Mikhail S. Dubrovin
Tag: V00-00-63
- in OpticAlignmentCspad*.py - add option parser for manual processing of metrology files

2014-10-01 Mikhail S. Dubrovin
Tag: V00-00-62
- OpticAlignmentCspad2x2V1.py - fix segment rotation angles 0 -> 180

2014-09-26 Mikhail S. Dubrovin
Tag: V00-00-61
- add OpticAlignmentCspadV2.py, OpticAlignmentCspad2x2V1.py
- add OpticAlignmentCspadMethods.py to collect common methods for cspad alignment in superclass
- GUIMetrology.py - integrate CspadV2(xpp) and Cspad2x2V1 in calibman

2014-09-23 Mikhail S. Dubrovin
Tag: V00-00-60
- ConfigParametersForApp, ConfigFileGenerator add support for Epix and Epix10k
- add scripts/psana-module-peds-aver-camera.cfg with parameter ftype to save metatxt

2014-07-07 Mikhail S. Dubrovin
Tag: V00-00-59
- CommandLineCalib.py - fix default calibdir

2014-07-03 Mikhail S. Dubrovin
Tag: V00-00-58
- GUIMaskEditor, plims, PlotImgSpeButtons - cosmetic improvements of titles, comments, etc.

Tag: V00-00-57
2014-07-02 Mikhail S. Dubrovin
- GUIInsExpDirDet - on Browse protect selection of non-"calib" directory

Tag: V00-00-56
2014-07-01 Mikhail S. Dubrovin
- GUIConfigPars - add field for number of events to scan
- ConfigParametersForApp add cp.bat_dark_scan
- ConfigFileGenerator use cp.bat_dark_scan in make_psana_cfg_file_for_peds_scan(...)
- in FileDeployer - add method addHistoryRecordOnDelete(...)
- in GUIFileManagerGroupControl.py and GUIFileManagerSingleControl.py add record in hystory file on delete

Tag: V00-00-55
2014-06-30 Mikhail S. Dubrovin
- ConfigFileGenerator - all camera-type detector (Tm6740, Opal#000, OrcaFl40) files will be saved with metadata

Tag: V00-00-54
2014-06-30 Mikhail S. Dubrovin
- ConfigParametersForApp, ConfigFileGenerator add support for OrcaFl40
- ConfigFileGenerator, scripts/psana-module-peds-aver-camera.cfg add parameter ftype to save metatxt

Tag: V00-00-53
2014-06-27 Mikhail S. Dubrovin
- by request from Jason Koglin
  in app/calibrun add -L which allows to load parameters from config file created by app/calibman
  By default major parameters need to be specified.

Tag: V00-00-52
2014-06-23 Mikhail S. Dubrovin
- OpticAlignmentCspadV1 - fix quad rotation default angles, add default xy-offsets

Tag: V00-00-51
2014-06-22 Mikhail S. Dubrovin
- PlotImgSpeButtons - extend file search pattern for file browser

Tag: V00-00-50
2014-06-19 Mikhail S. Dubrovin
- OpticAlignmentCspadV1 - fix typo in geometry title
- ConfigParametersForApp - add comma in the list of srcs_cspad

Tag: V00-00-49
2014-06-17 Mikhail S. Dubrovin
- in app/plims change the list of options
- in PlotImgSpe - transfer parameters
- in PlotImgSpeButtons add ArrFileExchange for Load button

Tag: V00-00-48
2014-06-13 Mikhail S. Dubrovin
- cleanup misleading messages in BatchJobPedestals.py and CommandLineCalib.py

Tag: V00-00-47
2014-06-10 Mikhail S. Dubrovin
- in GUIFileManagerGroupControl & GUIFileManagerSingleControl protect from copy of the HISTORY file

Tag: V00-00-46
2014-06-03 Mikhail S. Dubrovin
- in app/calibrun add option -x for non-standard xtc directory
- for app/calibrun get rid of RegDB; try : self.print_list_of_sources_from_regdb() ...
- add CxiDs2.0:Cspad.0 in the self.srcs_cspad in ConfigParametersForApp.py

Tag: V00-00-45
2014-06-03 Mikhail S. Dubrovin
- FileNameManager add path_metrology_text_def(self)
- GUIMetrology stop processing if the input xlsx or text file is missing

Tag: V00-00-44
2014-06-02 Mikhail S. Dubrovin
- GUIMetrology.py - check that Convert procedure does not change user defined file
	chenged fnm.path_metrology_text() and fnm.path_metrology_text_def()
- replace unicode symbols by * and ^.
- in src/OpticAlignmentCspadV1.py transport detector and exp(instrument) name to "geometry" comments

Tag: V00-00-43
2014-05-05 Mikhail S. Dubrovin
- in SvnProps.py (to get rid of nightly complains) move global class attributes under __init__

Tag: V00-00-42
2014-04-30 Mikhail S. Dubrovin
- PlotImgSpe* - now use persistent (saved in config pars) range of intensity
- GUIRunRange.py is renamed to GUIRange.py.
- Many modules were modified for GUIRange and its methods.
- add GUIRangeIntensity.py as a chield class for GUIRange.

Tag: V00-00-41
2014-04-25 Mikhail S. Dubrovin
- CommandLineCalib - print command line in log for book-keeping, change print order for detectors
- GUIFileManagerGroupControl - implement group delete button action
- GUIExpCalibDir - always update the list of experiments for drop-down menu in exp. selection GUI
- in GlobalUtils add msg_and_status_of_queue(queue) and use it in BatchJobPedestals, CommandLineCalib, and GUIExpCalibDir

2014-04-21 Mikhail S. Dubrovin
- BatchJobPedestals fix name in dump: fnm.path_peds_scan_batch_log() -> fnm.path_peds_aver_batch_log()
- PackageVersions - for rel >= ana-0.10.16: as a package version use revision No and tag
- GUIConfigPars	- use text_rev_and_tag_for_all_packages() for info dump about package versions

Tag: V00-00-40 for release ana-0.10.16
2014-04-21 Mikhail S. Dubrovin
- PackageVersions - for now commented depencency from other packages
	CSPadPixCoords ImgAlgos pdscalibdata PSCalib
- CommandLineCalib - do not dump log-file if it is not available (not-produced yet)
- cosmetic improvement of printed statements for command mode.
- FileDeployer - do not deploy non-existent input files

Tag: V00-00-39
2014-04-21 Mikhail S. Dubrovin
- psvn mktxtprop doc/ChangeLog
- psvn mktxtprop app/* (svn propset svn:keywords app/*)
- BatchJobPedestals - continue normal batch job processing if AFS token is missing
- PackageVersions - as a package version use revision No. in stead of tag
- app/calibrun, calibman - do not check AFS token and Kerberos ticket

Tag: V00-00-38
2014-04-18 Mikhail S. Dubrovin
- add src/SvnProps.py, SvnPropsViewer.py, also set properties:
	svn propset svn:keywords "Revision" src/SvnProps.py

Tag: V00-00-37
2014-04-17 Mikhail S. Dubrovin
- ALL modules - fill correct Revision: and Id: values;
	- see ~/.subversion/config - uncomment: enable-auto-props = yes
	- psvn mktxtprop CalibManager/src/*.py - add properties to files
- in GlobalUtils and NotificationDB use $Revision var. in stead of psvn tags <pkg>

Tag: V00-00-36
2014-04-17 Mikhail S. Dubrovin
- in calibrun, CommandLineCalib, and Logger re-direct all outputh in the Logger
- in Logger - add print_bits parameter to control paralel output on termins.
- in GUIRunRange.setParams(...) - add default init. of pars

Tag: V00-00-35
2014-04-16 Mikhail S. Dubrovin
- in CommandLineCalib - pass all printout through self.log(...), use print_bits, submit in logger.
- in app/calibrun cosmetic - add time, time-stamps, process name in messages
- add NotificationDBForCL as subclass of NotificationDB adjusted for calibrun
- adjust NotificationDB in order to use it as superclass

Tag: V00-00-34
2014-04-15 Mikhail S. Dubrovin
- in ThreadCheckNewXtcFiles add protection against sending signal when experiment name has changed

Tag: V00-00-33
2014-04-15 Mikhail S. Dubrovin
- Command line calibration is implemented in full design scale:
- in CommandLineCalib and BatchJobPedestals add interactive mode for command line calibration
- in ConfigFileGenerator remove duplicatin of module description for cspad
- in GUIDarkControlBar replace run range edit-fields by the GUIRunRange widget
- in GUIRunRange emit signal when any of run range fields is changed

Tag: V00-00-32
2014-04-14 Mikhail S. Dubrovin
- cleanup edi_from in in GUIFileManagerGroupControl

Tag: V00-00-31
2014-04-14 Mikhail S. Dubrovin
- in GUIFileManagerGroup add slider to change GUIDirTree-window hor-size (in order to see long file names)
- in CalibFileFinder remove run number 0 from the list_of_ends (protection against "0-0" range)
- in GUIDarkListItemRun, GUIFileManagerGroupControl, and GUIFileManagerSingleControl
	use widget GUIRunRange. Cleanup old stuff.
- in GUIRunRange.getRunRange()
	- do not strip ALL '0' for run 0 (protection against "-end.data" file name).
        - add protection if run_begin > run_end (red-color, warniong message, and begin-begin at return)
- move common deployment methods from GUIDarkListItemRun.py to FileDeployer.py (needs them for command line)
- add src/CommandLineCalib.py and app/calibrun - new command-line calibration
- in GUIDarkList.onItemClick - get and use correct list of parameters for
	widg.updateButtons(self.type, self.comment, self.xtc_in_dir)
- in GUIConfig, GUIMetrology - cosmetic tuning of window size
- in GUIDarkListItem add getStrRunNum(), getRunNum()

Tag: V00-00-30
2014-04-07 Mikhail S. Dubrovin
- in PackageVersions fix hangout at tmp files cleanup
- in PlotImg* separate log scales for X, Y
- GUIMetrology is ready for CSPADV1 processing
- in GUIDarkList*
	- do not show "Go" button for missing on disk xtc files,
        - update the comment field on run item

Tag: V00-00-29
2014-04-03 Mikhail S. Dubrovin
- New version of pyqt does not allow to redefine graphical backend after
    app = QtGui.QApplication(sys.argv)
  so, now it is necessary to re-define backend in the app/calibman
- whenever matplotlib is used with pyqt, in stead of
    if matplotlib.get_backend() != 'Qt4Agg' : matplotlib.use('Qt4Agg')
  now use:
    if __name__ == "__main__" :
        import matplotlib
        matplotlib.use('Qt4Agg') # forse Agg rendering to a Qt4 canvas (backend)
- remove import matplotlib form modules which does not need it but had it due to copy and pased.

Tag: V00-00-28
2014-04-03 Mikhail S. Dubrovin
- xppopr complained that the list of runs was not updated for newly created xtc files...
	- Igor fixed RegDB experiment_info.experiment_runs(ins, exp), where update did not work
	- in GUIDarkList add automatic update of the list of runs when new xtc file is available
- in app/calibman add thread worker to check new xtc files
- add ThreadCheckNewXtcFiles - new thread worker which checks new xtc files
- in GUIDarkListItemRun - add update of the run item comment
  with associate propagation of parameters from GUIDarkList to GUIDarkListItem
- in GUIMetrology begin to work on integration of the cspad optic metrology data processing

Tag: V00-00-27
2014-04-02 Mikhail S. Dubrovin
- moved OpticAlignmentCspadV1.py in this project but not use it yet
- in NotificationDB - do not submit records from myself
- in GUIDarkControlBar - add "Update list" button in GUIDark

Tag: V00-00-26
2014-03-25 Mikhail S. Dubrovin
- in BatchJobPedestals.submit_batch_for_peds_aver(...) add protections:
	- if LSF is down
	- if selected detector(s) is(are) not found in xtc scan log parsing.

Tag: V00-00-25
2014-03-17 Mikhail S. Dubrovin
- in PackageVersions add clean-up tmp files
- in ConfigFileGenerator and scripts/psana-scan.cfg use SKIP events for scan as for data
- in GUIDarkControlBar - update list of files when run_num_max is entered

Tag: V00-00-24
2014-03-16 Mikhail S. Dubrovin
- add PackageVersions.py in order to get package versions in background subprocesses,
  swap appropriate methods for new one.
- in app/calibman add protection in case of launching on the node with old version of lustre driver

Tag: V00-00-23
2014-03-14 Mikhail S. Dubrovin
- add GUIFileManager* etc for group file management
A       src/GUIFileManagerGroupControl.py
A       src/GUIFileManagerSingle.py
A       src/GUIFileManagerSingleControl.py
A       src/GUIExpCalibDir.py
A       src/GUIFileManagerGroup.py
A       src/GUIDirTree.py

Tag: V00-00-22
2014-03-11 Mikhail S. Dubrovin
- add NotificationDB
- in GUIConfigPars add the button to print package tags in the tab of Config Parameters

Tag: V00-00-21
2014-03-07 Mikhail S. Dubrovin
- in GUIDarkMoreOpts.py set invisible the check box for additional options
- in FileNameManager.py path_hotpix_mask() set explicit format for threshold in file name: mask-hot-thr-%.2fADU.txt

Tag: V00-00-20
2014-03-07 Mikhail S. Dubrovin
- in data/scripts/* set print_bits = 221 (in stead of 93) to print auto-threshold iterations
- in ConfigParametersForApp decrease the batch job submission time interval from 100 to 30 sec.

Tag: V00-00-19
2014-03-07 Mikhail S. Dubrovin
- in FileDeployer change command "cp" -> "cat", command "mv" -> "cat" and "rm"
	in order to deploy files with calib directory ACL permissions
- in GUIDarkControlBar self.cbx_deploy_hot.pixsetVisible(False) - set invisible
- in self.mask_rms_thr: set default threshold on rms = 0 - automatic definition of threshold for hot pixels
- by default pixel_status will be saved .... cp.dark_deploy_hotpix   =... True
- in GUIFileManagerSelect update status after Copy, Move, and Delete; cp.guistatus.updateStatusInfo()

Tag: V00-00-18
2014-03-04 Mikhail S. Dubrovin
- in GUIDarkList.py uncommented widg.updateButtons() at list update
- change color of Stop button to yellow

Tag: V00-00-17
2014-03-01 Mikhail S. Dubrovin
- fix problem with list buttons update; in GUIDarkList self.dict_guidarklistitem  ={} -> .clear()
- in GUIInsExpDirDet request to clear list for butExp and butInst, but not for butDet

Tag: V00-00-16
2014-02-28 Mikhail S. Dubrovin
- add protection in evaluation of statistcal values for plots
- in BatchJobPedestals add hardwired option, which can be used for damaged data... #self.opt = ' -o psana.l3t-accept-only=0'
- split(' ') -> split() in order to remove all blanks
- Use char_expand = u'\u25BC', which is defined on psanacs... comps
- In ana/calibman add check of AFS token before starting application using GlobalUtils.check_token()

2014-02-24 Mikhail S. Dubrovin
- keep chasing the bug for non-updating buttons
M       src/CalibFileFinder.py - add protection for empty list;  if len(list_of_cfiles)>0 :
M       src/FileDeployer.py    - replace HOST -> HOSTNAME
M       src/GUIDarkListItemRun.py
M       src/GUIDarkListItem.py
M       src/BatchJobPedestals.py
M       src/GUIDarkList.py
M       src/PlotImgSpeWidget.py

Tag: V00-00-15
2014-02-13 Mikhail S. Dubrovin
- Generation of the large number of list items with embedded widget is slow in python.
  Some optimization can be done if for each run number a single item and widget is generated once
  and saved in the dictionary:
  + the self.list in GUIDarkList now is treated as a singleton object
  + all new item objects in the list are added once and saved in the dictionary run_num:(item,wigg)
M       src/GUIInsExpDirDet.py
M       src/GUIDarkListItemRun.py
M       src/GUIDarkListItem.py
M       src/ConfigParametersForApp.py
M       src/GUIDarkControlBar.py
M       src/GUIDarkList.py

Tag: V00-00-14
2014-02-12 Mikhail S. Dubrovin
- add run range in GUIDarkControlBar to speed-up generation of list gui in GUIDarkList
- in PlotImgSpeWidget add statistics box
M       src/GUIDarkListItemRun.py
M       src/GUIDarkListItem.py
M       src/ConfigParametersForApp.py
M       src/GUIDarkControlBar.py
M       src/GUIDarkList.py
M       src/PlotImgSpeWidget.py

Tag: V00-00-13
2014-02-08 Mikhail S. Dubrovin
- in FileDeployer.py add "comment" in history record
- in GUIDarkListItemRun.py etc. add deployment of "pixel_rms" type of files at Dark processing
- add parameters and buttons for hot pixel mask thresholds on rms and average min/max

Tag: V00-00-12
2014-02-07 Mikhail S. Dubrovin
- add GUI for Metrology processing
	- xlsx to text conversion
	- to do: processing of the text file
- add empty GUI for Geometry
- pnCCD pedestals calculation for image (FullFrame) is replaced by ndarr [4,512,512]
M       src/GUITabs.py
A       src/xlsx_parser.py
A       src/GUIMetrology.py
A       src/GUIGeometry.py
M       src/ConfigParametersForApp.py
M       src/GUIMaskEditor.py
M       src/FileNameManager.py
M       src/ConfigFileGenerator.py
A  +    data/scripts/psana-module-peds-aver-pnccd-ndarr.cfg
A       data/scripts/psana-module-peds-aver-pnccd-img.cfg
D       data/scripts/psana-module-peds-aver-pnccd.cfg

Tag: V00-00-11
2014-01-13 Mikhail S. Dubrovin
- minor corrections in window titles and sizes...

Tag: V00-00-10
2014-01-10 Mikhail S. Dubrovin
- ImgAlgos.ImgAverage is replaced by ImgAlgos.NDArrAverage in files
M       src/ConfigFileGenerator.py
M       data/scripts/psana-module-peds-aver-princeton.cfg
M       data/scripts/psana-module-peds-aver-pnccd.cfg
M       data/scripts/psana-module-peds-aver-camera.cfg
- Deploy hot-pixel mask,
- In GUIConfigPars.py add more parameters for hot-pixel mask evaluation.
M       data/scripts/psana-module-peds-aver-cspad-with-mask.cfg
M       src/GUIConfig.py
M       src/GUIDarkMoreOpts.py
M       src/GUIDarkListItemRun.py
M       src/GUIConfigPars.py
M       src/ConfigParametersForApp.py
M       src/ConfigFileGenerator.py
M       src/GUIDarkControlBar.py

Tag: V00-00-09
2013-12-17 Mikhail S. Dubrovin
- modules src/CSPAD2x2Image.py CSPADImage.py moved to PyCSPadImage
- in CalibFileFinder, GlobalUtils - fixed problems with printing run range
- in GUIStatus.py changed status window font to fixed size
- in GUIMaskEditor.py get array using self.img_arr = gu.get_image_array_from_file(self.path)

Tag: V00-00-08
2013-12-16 Mikhail S. Dubrovin
- in status window implementer output of sorted calibration files with actual run range
- add CalibFileFinder - analog of cpp class
- add data/scripts/psana-module-peds-aver-cspad-with-mask.cfg
	and modify ConfigFileGenerator, FileNameManager, BatchJobPedestals, etc. in order to
	calculate hot pixel masks for cspads in dark runs.

2013-12-12 Mikhail S. Dubrovin
- in GUIFileManagerSelect.py add Move button/command

Tag: V00-00-07
2013-12-12 Mikhail S. Dubrovin
- Tuning of the GUIFileManager features;
  - apply copy command through FileDeployer with record to the hystory file.
  - show GUIStatus depending on type of tab: "Dark"-pedestals, "File Manager" - all calib types
  - add more default file extensions for GUIFileBrowser, do not restric opening of any file...

Tag: V00-00-06
2013-12-07 Mikhail S. Dubrovin
- improve logistics of buttons in GUIInsExpDirDet, GUIStatus.py, GUIDarkListItemRun.py
- add src/GUIFileManager.py, src/GUIFileManagerSelect.py

Tag: V00-00-05
2013-11-27 Mikhail S. Dubrovin
- refactoring DarkList... classes for correct widget resizing.
- enable/disable "Go" button for scan at submission
- check that Go/Stop/Deploy button status is updated properly.

Tag: V00-00-04
2013-11-26 Mikhail S. Dubrovin
- add more icons in data/icons/
- add app/plims for "standalone" plotting procedure
- in PlotImgSpe add buttons
	Load - to load any array and
	Diff - to see diffetence between current and image array from file

Tag: V00-00-03
2013-11-22 Mikhail S. Dubrovin
- add popup window for confirmation of sources before deployment
- fix problem with missing non-automatic call of resizeEvent
- add saving history file
- add auto-create work directory
- change file permissions after its saving

Tag: V00-00-02
2013-11-19 Mikhail S. Dubrovin
- It was found that RegDB returns sources which are missing in xtc...
- combined access to scanned xtc with RegDB, RegDB is used only when
	scan log is not yet available.

2013-11-18 Mikhail S. Dubrovin
- code of many modules is significantly changed in order to
	have dark image averaging for any set of detectors simultaneously.

2013-11-05 Mikhail S. Dubrovin
- add access to DB on data files
A       src/RegDBUtils.py
A       src/GUIPopupChecklist.py
A       src/GUIDarkControlBar.py

Tag: V00-00-01
2013-10-06 Mikhail S. Dubrovin
- works for pedestals and mask editor

2013-07-15 Mikhail S. Dubrovin
- create this package on dubrovin@psdev106:
cd /reg/neh/home1/dubrovin/LCLS
newrel ana-current CalibManager-v01
cd CalibManager-v01
newpkg CalibManager
psvn newpkg CalibManager
addpkg CalibManager

#--------------------
